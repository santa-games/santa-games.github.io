{"version":3,"sources":["components/Users.js","tools.js","components/User.js","components/Games.js","components/games/tictactoe.js","components/Game.js","App.js","index.js"],"names":["Users","state","user_id","this","setState","undefined","redirect","to","class","scope","props","users","map","user","key","onClick","handleClick","user_name","Component","convertStateIdToName","stateId","fetchJsonFrom","url","a","console","log","fetch","response","json","error","User","games","games_played","games_won","games_lost","game","game_state_id","host_user_id","guest_user_id","other_user_id","win_user_id","contents","className","Games","game_id","tableContents","game_state","host_user","guest_user","win_user","next_user","TicTacToe","data","w","h","svgElements","push","x1","x2","y1","y2","stroke","strokeWidth","i","symbol","r","cx","cy","Math","floor","fill","options","option","s","scx","scy","e","ecx","ecy","width","height","Game","host_user_name","guest_user_name","datetime_created","host_plays_first","number_of_turns","next_user_id","App","find","href","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","id","path","render","parseInt","match","params","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.0e1b23d4.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nclass Users extends Component {\r\n    state = {}\r\n\r\n    handleClick(user_id) {\r\n        this.setState({ \"redirect\": user_id })\r\n    }\r\n\r\n    render() {\r\n        if (this.state.redirect !== undefined) return <Redirect to={'/users/' + this.state.redirect} />\r\n        return (\r\n            <div class=\"container\">\r\n                <h3>Leaderboard</h3>\r\n                <table class=\"table table-hover\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th scope=\"col\">ID</th>\r\n                            <th scope=\"col\">Name</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {this.props.users.map((user) => (\r\n                            <tr key={user.user_id} onClick={() => this.handleClick(user.user_id)}>\r\n                                <td>{user.user_id}</td>\r\n                                <td>{user.user_name}</td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Users;","export function convertStateIdToName(stateId) {\r\n    if (stateId === 0) return \"Proposed\"\r\n    if (stateId === 1) return \"Active\"\r\n    if (stateId === 2) return \"Completed\"\r\n    if (stateId === 3) return \"Forfeit\"\r\n    if (stateId === 4) return \"Cancelled\"\r\n    return \"Unknown [\"+stateId+\"]\"\r\n}\r\n\r\nexport async function fetchJsonFrom(url) {\r\n    try {\r\n        console.log(\"Fetching from [\"+url+\"]\");\r\n        const response = await fetch(url);\r\n        return await response.json();\r\n    }\r\n    catch (error) {\r\n        console.error(error)\r\n        return {};\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport { fetchJsonFrom } from '../tools.js'\r\n\r\nclass User extends Component {\r\n    state = {\r\n        \"user\": undefined,\r\n    }\r\n\r\n    async componentDidMount() {\r\n        try {\r\n            const user = await fetchJsonFrom(\"https://santa-games.azurewebsites.net/api/users/\"+this.props.user_id)\r\n            const games = await fetchJsonFrom(\"https://santa-games.azurewebsites.net/api/games\")\r\n\r\n            let games_played = 0;\r\n            let games_won = 0;\r\n            let games_lost = 0;\r\n\r\n            for (let game of games) {\r\n                if (game.game_state_id !== 2) continue;\r\n                if (game.host_user_id === this.props.user_id || game.guest_user_id === this.props.user_id) \r\n                {\r\n                    let other_user_id = game.host_user_id === this.props.user_id ? game.guest_user_id : game.host_user_id\r\n                    games_played += 1\r\n                    if (game.win_user_id === this.props.user_id) games_won += 1;\r\n                    else if (game.win_user_id === other_user_id) games_lost += 1;\r\n                }\r\n            }\r\n\r\n            this.setState({\r\n                \"user\": user,\r\n                \"games\": games,\r\n                \"games_played\": games_played,\r\n                \"games_won\": games_won,\r\n                \"games_lost\": games_lost,\r\n            });\r\n        }\r\n        catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n    render(){\r\n        let contents;\r\n        if (this.state.user === undefined) contents = <h5>Loading user data...</h5>\r\n        else\r\n        {\r\n            contents = (\r\n                <div className=\"container\">\r\n                    <h3>{this.state.user.user_name}</h3>\r\n                    <h5>Details</h5>\r\n                    <table class=\"table table-sm\">\r\n                        <tbody>\r\n                            <tr><td>User ID</td><td>{this.state.user.user_id}</td></tr>\r\n                            <tr><td>User Name</td><td>{this.state.user.user_name}</td></tr>\r\n                        </tbody>\r\n                    </table>\r\n                    <h5>Stats</h5>\r\n                    <table class=\"table table-sm\">\r\n                        <tbody>\r\n                            <tr><td>Games Played</td><td>{this.state.games_played}</td></tr>\r\n                            <tr><td>Games Won</td><td>{this.state.games_won}</td></tr>\r\n                            <tr><td>Games Lost</td><td>{this.state.games_lost}</td></tr>\r\n                        </tbody>\r\n                    </table>\r\n\r\n                <h5>Games</h5>\r\n                \r\n\r\n                </div>\r\n            )\r\n        }\r\n        return (<div>{contents}</div>)\r\n    }\r\n}\r\n\r\nexport default User;","import React, { Component } from 'react'\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nclass Games extends Component {\r\n    state = {}\r\n\r\n    handleClick(game_id) {\r\n        this.setState({ \"redirect\": game_id })\r\n    }\r\n\r\n    render() {\r\n        if (this.state.redirect !== undefined) return <Redirect to={'/games/' + this.state.redirect} />\r\n\r\n        let tableContents;\r\n        if (this.props.games === undefined) tableContents = (<p>No games to display</p>)\r\n        else {\r\n            tableContents = this.props.games.map((game) => (\r\n                <tr key={game.game_id} onClick={() => this.handleClick(game.game_id)}>\r\n                    <td>{game.game_id}</td>\r\n                    <td>{game.game_state}</td>\r\n                    <td>{game.host_user}</td>\r\n                    <td>{game.guest_user}</td>\r\n                    <td>{game.win_user}</td>\r\n                    <td>{game.next_user}</td>\r\n                </tr>\r\n            ))\r\n        }\r\n        return (\r\n            <div class=\"container\">\r\n                <h3>Games</h3>\r\n                <table class=\"table table-hover\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th scope=\"col\">ID</th>\r\n                            <th scope=\"col\">State</th>\r\n                            <th scope=\"col\">Host</th>\r\n                            <th scope=\"col\">Guest</th>\r\n                            <th scope=\"col\">Winner</th>\r\n                            <th scope=\"col\">Next</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>{tableContents}</tbody>\r\n                </table>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Games;","import React, { Component } from 'react';\r\n\r\nclass TicTacToe extends Component {\r\n\r\n    render() {\r\n        if (this.props.data === null) return null;\r\n        let w = 100;\r\n        let h = 100;\r\n        let key=0;\r\n        let strokeWidth=1;\r\n        \r\n        const svgElements = []\r\n        svgElements.push((<line key={key++} x1={w} x2={w} y1=\"0\" y2={3*h} stroke=\"black\" strokeWidth={strokeWidth}/>));\r\n        svgElements.push((<line key={key++} x1={2*w} x2={2*w} y1=\"0\" y2={3*h} stroke=\"black\" strokeWidth={strokeWidth}/>));\r\n        svgElements.push((<line key={key++} x1=\"0\" x2={3*w} y1={h} y2={h} stroke=\"black\" strokeWidth={strokeWidth}/>));\r\n        svgElements.push((<line key={key++} x1=\"0\" x2={3*w} y1={2*h} y2={2*h} stroke=\"black\" strokeWidth={strokeWidth}/>));\r\n        \r\n        for(let i=0;i<9;i++) {\r\n            let symbol = this.props.data[i];\r\n            let x = i % 3;\r\n            let y = Math.floor(i / 3) % 3;\r\n            let r = w/2*0.8;\r\n            let cx = (x+0.5)*w;\r\n            let cy = (y+0.5)*h;\r\n\r\n            if (symbol === \"X\") {\r\n                svgElements.push((<line key={key++} x1={cx-r} x2={cx+r} y1={cy+r} y2={cy-r} stroke=\"black\" strokeWidth={strokeWidth}/>))\r\n                svgElements.push((<line key={key++} x1={cx-r} x2={cx+r} y1={cy-r} y2={cy+r} stroke=\"black\" strokeWidth={strokeWidth}/>))\r\n            }  \r\n            else if (symbol === \"O\") {\r\n                svgElements.push((<circle key={key++} cx={cx} cy={cy} r={r} stroke=\"black\" fill=\"white\" strokeWidth={strokeWidth} />))\r\n            } \r\n        }   \r\n\r\n        // if any three in a row draw a winning line\r\n        const options = [\r\n            [0, 1, 2],\r\n            [3, 4, 5],\r\n            [6, 7, 8],\r\n            [0, 3, 6],\r\n            [1, 4, 7],\r\n            [2, 5, 8],\r\n            [0, 4, 8],\r\n            [2, 4, 6],\r\n        ]\r\n        for (let i in options) {\r\n            let option = options[i];\r\n            let symbol = this.props.data[option[0]];\r\n            if (symbol === \" \") continue;\r\n            if (this.props.data[option[1]] !== symbol) continue\r\n            if (this.props.data[option[2]] !== symbol) continue\r\n\r\n            let s = option[0];\r\n            let sx = s % 3;\r\n            let sy = Math.floor(s / 3) % 3;\r\n            let scx = (sx+0.5)*w;\r\n            let scy = (sy+0.5)*h;\r\n\r\n            let e = option[2];\r\n            let ex = e % 3;\r\n            let ey = Math.floor(e / 3) % 3;\r\n            let ecx = (ex+0.5)*w;\r\n            let ecy = (ey+0.5)*h;\r\n\r\n            svgElements.push((<line key={key++} x1={scx} x2={ecx} y1={scy} y2={ecy} stroke=\"red\" strokeWidth=\"3\"/>))\r\n        } \r\n        return (<svg class=\"border rounded\" width={3*w} height={3*h}>{svgElements}</svg>)\r\n    }\r\n}\r\n\r\nexport default TicTacToe; ","import React, { Component } from 'react';\r\nimport { convertStateIdToName, fetchJsonFrom } from \"../tools.js\"\r\nimport TicTacToe from \"./games/tictactoe.js\"\r\n\r\nclass Game extends Component {\r\n    state = {\r\n        \"game\": undefined,\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const game = await fetchJsonFrom(\"https://santa-games.azurewebsites.net/api/games/\"+this.props.game_id);\r\n        this.setState({ \"game\": game });\r\n    }\r\n\r\n    render(){\r\n        let contents;\r\n        if (this.state.game === undefined) contents = <h5>Loading game data...</h5>\r\n        else\r\n        {\r\n            contents = (\r\n                <div className=\"container\">\r\n                    <h3>Game #{this.state.game.game_id} | Tic-Tac-Toe | {this.state.game.host_user_name} vs {this.state.game.guest_user_name}</h3>\r\n                    <h5>Stats</h5>\r\n                    <table class=\"table table-sm\">\r\n                        <tbody>\r\n                            <tr>\r\n                                <td>Status</td>\r\n                                <td>{convertStateIdToName(this.state.game.game_state_id)}</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>Created</td>\r\n                                <td>{this.state.game.datetime_created}</td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n\r\n                    <h5>Details</h5>\r\n                    <table class=\"table table-sm\">\r\n                        <tbody>\r\n                            <tr>\r\n                                <td>Player 1</td>\r\n                                <td>{this.state.game.host_plays_first === undefined ? \"-\" : (this.state.game.host_plays_first ? this.state.game.host_user_name : this.state.game.guest_user_name)}</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>Player 2</td>\r\n                                <td>{this.state.game.host_plays_first === null ? \"-\" : (!this.state.game.host_plays_first ? this.state.game.host_user_name : this.state.game.guest_user_name)}</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>Turns</td>\r\n                                <td>{this.state.game.number_of_turns}</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>Next Player</td>\r\n                                <td>{ this.state.game.next_user_id === null ? \"-\" : (this.state.game.next_user_id === this.state.game.host_user_id ? this.state.game.host_user_name : this.state.game.guest_user_name)}</td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                    <h5>State</h5>\r\n                    <TicTacToe data={this.state.game.data} />\r\n                </div>\r\n            )\r\n        }\r\n        return (<div>{contents}</div>)\r\n    }\r\n}\r\n\r\nexport default Game;","import React, { Component } from 'react';\r\nimport {\r\n    HashRouter as Router,\r\n    Switch,\r\n    Route,\r\n    Link\r\n} from \"react-router-dom\";\r\nimport Users from './components/Users';\r\nimport User from './components/User';\r\nimport Games from './components/Games';\r\nimport Game from './components/Game';\r\nimport 'bootswatch/dist/flatly/bootstrap.min.css';\r\nimport './App.css';\r\nimport { convertStateIdToName, fetchJsonFrom } from \"./tools.js\"\r\n\r\nclass App extends Component {\r\n    state = {\r\n        \"users\": [],\r\n    }\r\n\r\n    async componentDidMount() {\r\n        try {\r\n            const users = await fetchJsonFrom(\"https://santa-games.azurewebsites.net/api/users\")\r\n            const games = await fetchJsonFrom('https://santa-games.azurewebsites.net/api/games');\r\n\r\n            for(let game of games) {\r\n                game.game_state = convertStateIdToName(game.game_state_id);\r\n                game.host_user = game.host_user_id !== null ? users.find(user => user.user_id === game.host_user_id).user_name : \"-\"\r\n                game.guest_user = game.guest_user_id !== null ? users.find(user => user.user_id === game.guest_user_id).user_name : \"-\"\r\n                game.next_user = game.next_user_id !== null ? users.find(user => user.user_id === game.next_user_id).user_name : \"-\"\r\n                game.win_user = game.win_user_id !== null ? users.find(user => user.user_id === game.win_user_id).user_name : \"-\"\r\n            }\r\n            \r\n            this.setState({ \"users\": users, \"games\" : games });\r\n        }\r\n        catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Router>\r\n                    <div>\r\n                        <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark\">\r\n                            <a className=\"navbar-brand\" href=\"/\">Santa-Games</a>\r\n                            <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\"\r\n                                data-target=\"#navbarNav\"\r\n                                aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n                                <span className=\"navbar-toggler-icon\"></span>\r\n                            </button>\r\n                            <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n                                <ul className=\"navbar-nav mr-auto\">\r\n                                    <li className=\"nav-item\">\r\n                                        <Link class=\"nav-link\" to=\"/\">Leaderboard</Link>\r\n                                    </li>\r\n                                    <li className=\"nav-item\">\r\n                                        <Link className=\"nav-link\" to=\"/games\">Games</Link>\r\n                                    </li>\r\n                                </ul>\r\n                            </div>\r\n                        </nav>\r\n                        <Switch>\r\n                            <Route path=\"/users/:user_id\" render={(props) => (<User user_id={parseInt(props.match.params.user_id)} />)}/>\r\n                            <Route path=\"/games/:game_id\" render={(props) => (<Game game_id={parseInt(props.match.params.game_id)} />)}/>\r\n                            <Route path=\"/games\"><Games games={this.state.games} /></Route>\r\n                            <Route path=\"/\"><Users users={this.state.users} /></Route>\r\n                        </Switch>\r\n                    </div>\r\n                </Router>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}